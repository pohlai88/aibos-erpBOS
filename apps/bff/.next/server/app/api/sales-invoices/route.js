"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/sales-invoices/route";
exports.ids = ["app/api/sales-invoices/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "(rsc)/../../node_modules/.pnpm/next@14.2.10_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fsales-invoices%2Froute&page=%2Fapi%2Fsales-invoices%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fsales-invoices%2Froute.ts&appDir=D%3A%5Caibos-erpBOS%5Capps%5Cbff%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5Caibos-erpBOS%5Capps%5Cbff&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/next@14.2.10_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fsales-invoices%2Froute&page=%2Fapi%2Fsales-invoices%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fsales-invoices%2Froute.ts&appDir=D%3A%5Caibos-erpBOS%5Capps%5Cbff%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5Caibos-erpBOS%5Capps%5Cbff&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/../../node_modules/.pnpm/next@14.2.10_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/../../node_modules/.pnpm/next@14.2.10_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/../../node_modules/.pnpm/next@14.2.10_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var D_aibos_erpBOS_apps_bff_app_api_sales_invoices_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/sales-invoices/route.ts */ \"(rsc)/./app/api/sales-invoices/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/sales-invoices/route\",\n        pathname: \"/api/sales-invoices\",\n        filename: \"route\",\n        bundlePath: \"app/api/sales-invoices/route\"\n    },\n    resolvedPagePath: \"D:\\\\aibos-erpBOS\\\\apps\\\\bff\\\\app\\\\api\\\\sales-invoices\\\\route.ts\",\n    nextConfigOutput,\n    userland: D_aibos_erpBOS_apps_bff_app_api_sales_invoices_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/sales-invoices/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL25leHRAMTQuMi4xMF9yZWFjdC1kb21AMTguMy4xX3JlYWN0QDE4LjMuMV9fcmVhY3RAMTguMy4xL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvYnVpbGQvd2VicGFjay9sb2FkZXJzL25leHQtYXBwLWxvYWRlci5qcz9uYW1lPWFwcCUyRmFwaSUyRnNhbGVzLWludm9pY2VzJTJGcm91dGUmcGFnZT0lMkZhcGklMkZzYWxlcy1pbnZvaWNlcyUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRnNhbGVzLWludm9pY2VzJTJGcm91dGUudHMmYXBwRGlyPUQlM0ElNUNhaWJvcy1lcnBCT1MlNUNhcHBzJTVDYmZmJTVDYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj1EJTNBJTVDYWlib3MtZXJwQk9TJTVDYXBwcyU1Q2JmZiZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ2M7QUFDZTtBQUM1RjtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlFQUFpRTtBQUN6RTtBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ3VIOztBQUV2SCIsInNvdXJjZXMiOlsid2VicGFjazovL2JmZi8/MGQ1NSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCJEOlxcXFxhaWJvcy1lcnBCT1NcXFxcYXBwc1xcXFxiZmZcXFxcYXBwXFxcXGFwaVxcXFxzYWxlcy1pbnZvaWNlc1xcXFxyb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvc2FsZXMtaW52b2ljZXMvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9zYWxlcy1pbnZvaWNlc1wiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvc2FsZXMtaW52b2ljZXMvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCJEOlxcXFxhaWJvcy1lcnBCT1NcXFxcYXBwc1xcXFxiZmZcXFxcYXBwXFxcXGFwaVxcXFxzYWxlcy1pbnZvaWNlc1xcXFxyb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvc2FsZXMtaW52b2ljZXMvcm91dGVcIjtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgc2VydmVySG9va3MsXG4gICAgICAgIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgb3JpZ2luYWxQYXRobmFtZSwgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/.pnpm/next@14.2.10_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fsales-invoices%2Froute&page=%2Fapi%2Fsales-invoices%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fsales-invoices%2Froute.ts&appDir=D%3A%5Caibos-erpBOS%5Capps%5Cbff%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5Caibos-erpBOS%5Capps%5Cbff&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/sales-invoices/route.ts":
/*!*****************************************!*\
  !*** ./app/api/sales-invoices/route.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   OPTIONS: () => (/* binding */ OPTIONS),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var _aibos_contracts_http_sales_sales_invoice_schema__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aibos/contracts/http/sales/sales-invoice.schema */ \"(rsc)/../../packages/contracts/http/sales/sales-invoice.schema.ts\");\n/* harmony import */ var _aibos_services_src_posting__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @aibos/services/src/posting */ \"(rsc)/../../packages/services/src/posting.ts\");\n\n\nasync function POST(req) {\n    try {\n        const json = await req.json();\n        const input = _aibos_contracts_http_sales_sales_invoice_schema__WEBPACK_IMPORTED_MODULE_0__.SalesInvoice.parse(json);\n        const journal = await (0,_aibos_services_src_posting__WEBPACK_IMPORTED_MODULE_1__.postSalesInvoice)(input);\n        return Response.json({\n            journal_id: journal.id\n        }, {\n            status: 201,\n            headers: {\n                \"Access-Control-Allow-Origin\": \"*\",\n                \"Access-Control-Allow-Methods\": \"POST, OPTIONS\",\n                \"Access-Control-Allow-Headers\": \"Content-Type\"\n            }\n        });\n    } catch (error) {\n        console.error(\"Sales invoice error:\", error);\n        return Response.json({\n            error: \"Internal server error\"\n        }, {\n            status: 500,\n            headers: {\n                \"Access-Control-Allow-Origin\": \"*\",\n                \"Access-Control-Allow-Methods\": \"POST, OPTIONS\",\n                \"Access-Control-Allow-Headers\": \"Content-Type\"\n            }\n        });\n    }\n}\nasync function OPTIONS(req) {\n    return new Response(null, {\n        status: 204,\n        headers: {\n            \"Access-Control-Allow-Origin\": \"*\",\n            \"Access-Control-Allow-Methods\": \"POST, OPTIONS\",\n            \"Access-Control-Allow-Headers\": \"Content-Type\"\n        }\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL3NhbGVzLWludm9pY2VzL3JvdXRlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFDZ0Y7QUFDakI7QUFFeEQsZUFBZUUsS0FBS0MsR0FBZ0I7SUFDekMsSUFBSTtRQUNGLE1BQU1DLE9BQU8sTUFBTUQsSUFBSUMsSUFBSTtRQUMzQixNQUFNQyxRQUFRTCwwRkFBWUEsQ0FBQ00sS0FBSyxDQUFDRjtRQUNqQyxNQUFNRyxVQUFVLE1BQU1OLDZFQUFnQkEsQ0FBQ0k7UUFDdkMsT0FBT0csU0FBU0osSUFBSSxDQUFDO1lBQUVLLFlBQVlGLFFBQVFHLEVBQUU7UUFBQyxHQUFHO1lBQy9DQyxRQUFRO1lBQ1JDLFNBQVM7Z0JBQ1AsK0JBQStCO2dCQUMvQixnQ0FBZ0M7Z0JBQ2hDLGdDQUFnQztZQUNsQztRQUNGO0lBQ0YsRUFBRSxPQUFPQyxPQUFPO1FBQ2RDLFFBQVFELEtBQUssQ0FBQyx3QkFBd0JBO1FBQ3RDLE9BQU9MLFNBQVNKLElBQUksQ0FBQztZQUFFUyxPQUFPO1FBQXdCLEdBQUc7WUFDdkRGLFFBQVE7WUFDUkMsU0FBUztnQkFDUCwrQkFBK0I7Z0JBQy9CLGdDQUFnQztnQkFDaEMsZ0NBQWdDO1lBQ2xDO1FBQ0Y7SUFDRjtBQUNGO0FBRU8sZUFBZUcsUUFBUVosR0FBZ0I7SUFDNUMsT0FBTyxJQUFJSyxTQUFTLE1BQU07UUFDeEJHLFFBQVE7UUFDUkMsU0FBUztZQUNQLCtCQUErQjtZQUMvQixnQ0FBZ0M7WUFDaEMsZ0NBQWdDO1FBQ2xDO0lBQ0Y7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2JmZi8uL2FwcC9hcGkvc2FsZXMtaW52b2ljZXMvcm91dGUudHM/M2VkNSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVxdWVzdCB9IGZyb20gXCJuZXh0L3NlcnZlclwiO1xyXG5pbXBvcnQgeyBTYWxlc0ludm9pY2UgfSBmcm9tIFwiQGFpYm9zL2NvbnRyYWN0cy9odHRwL3NhbGVzL3NhbGVzLWludm9pY2Uuc2NoZW1hXCI7XHJcbmltcG9ydCB7IHBvc3RTYWxlc0ludm9pY2UgfSBmcm9tIFwiQGFpYm9zL3NlcnZpY2VzL3NyYy9wb3N0aW5nXCI7XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUE9TVChyZXE6IE5leHRSZXF1ZXN0KSB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGpzb24gPSBhd2FpdCByZXEuanNvbigpO1xyXG4gICAgY29uc3QgaW5wdXQgPSBTYWxlc0ludm9pY2UucGFyc2UoanNvbik7XHJcbiAgICBjb25zdCBqb3VybmFsID0gYXdhaXQgcG9zdFNhbGVzSW52b2ljZShpbnB1dCk7XHJcbiAgICByZXR1cm4gUmVzcG9uc2UuanNvbih7IGpvdXJuYWxfaWQ6IGpvdXJuYWwuaWQgfSwgeyBcclxuICAgICAgc3RhdHVzOiAyMDEsXHJcbiAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAnQWNjZXNzLUNvbnRyb2wtQWxsb3ctT3JpZ2luJzogJyonLFxyXG4gICAgICAgICdBY2Nlc3MtQ29udHJvbC1BbGxvdy1NZXRob2RzJzogJ1BPU1QsIE9QVElPTlMnLFxyXG4gICAgICAgICdBY2Nlc3MtQ29udHJvbC1BbGxvdy1IZWFkZXJzJzogJ0NvbnRlbnQtVHlwZScsXHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKFwiU2FsZXMgaW52b2ljZSBlcnJvcjpcIiwgZXJyb3IpO1xyXG4gICAgcmV0dXJuIFJlc3BvbnNlLmpzb24oeyBlcnJvcjogXCJJbnRlcm5hbCBzZXJ2ZXIgZXJyb3JcIiB9LCB7IFxyXG4gICAgICBzdGF0dXM6IDUwMCxcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICdBY2Nlc3MtQ29udHJvbC1BbGxvdy1PcmlnaW4nOiAnKicsXHJcbiAgICAgICAgJ0FjY2Vzcy1Db250cm9sLUFsbG93LU1ldGhvZHMnOiAnUE9TVCwgT1BUSU9OUycsXHJcbiAgICAgICAgJ0FjY2Vzcy1Db250cm9sLUFsbG93LUhlYWRlcnMnOiAnQ29udGVudC1UeXBlJyxcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gT1BUSU9OUyhyZXE6IE5leHRSZXF1ZXN0KSB7XHJcbiAgcmV0dXJuIG5ldyBSZXNwb25zZShudWxsLCB7XHJcbiAgICBzdGF0dXM6IDIwNCxcclxuICAgIGhlYWRlcnM6IHtcclxuICAgICAgJ0FjY2Vzcy1Db250cm9sLUFsbG93LU9yaWdpbic6ICcqJyxcclxuICAgICAgJ0FjY2Vzcy1Db250cm9sLUFsbG93LU1ldGhvZHMnOiAnUE9TVCwgT1BUSU9OUycsXHJcbiAgICAgICdBY2Nlc3MtQ29udHJvbC1BbGxvdy1IZWFkZXJzJzogJ0NvbnRlbnQtVHlwZScsXHJcbiAgICB9XHJcbiAgfSk7XHJcbn1cclxuIl0sIm5hbWVzIjpbIlNhbGVzSW52b2ljZSIsInBvc3RTYWxlc0ludm9pY2UiLCJQT1NUIiwicmVxIiwianNvbiIsImlucHV0IiwicGFyc2UiLCJqb3VybmFsIiwiUmVzcG9uc2UiLCJqb3VybmFsX2lkIiwiaWQiLCJzdGF0dXMiLCJoZWFkZXJzIiwiZXJyb3IiLCJjb25zb2xlIiwiT1BUSU9OUyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/api/sales-invoices/route.ts\n");

/***/ }),

/***/ "(rsc)/../../packages/contracts/http/sales/sales-invoice.schema.ts":
/*!*******************************************************************!*\
  !*** ../../packages/contracts/http/sales/sales-invoice.schema.ts ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SalesInvoice: () => (/* binding */ SalesInvoice),\n/* harmony export */   SalesInvoiceLine: () => (/* binding */ SalesInvoiceLine)\n/* harmony export */ });\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! zod */ \"(rsc)/../../node_modules/.pnpm/zod@3.25.76/node_modules/zod/v3/types.js\");\n/* harmony import */ var _shared_primitives__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../shared/primitives */ \"(rsc)/../../packages/contracts/http/shared/primitives.ts\");\n\n\nconst SalesInvoiceLine = zod__WEBPACK_IMPORTED_MODULE_1__.object({\n    description: zod__WEBPACK_IMPORTED_MODULE_1__.string().min(1),\n    qty: zod__WEBPACK_IMPORTED_MODULE_1__.number().positive(),\n    unit_price: _shared_primitives__WEBPACK_IMPORTED_MODULE_0__.Money,\n    tax_code: zod__WEBPACK_IMPORTED_MODULE_1__.string().optional()\n});\nconst SalesInvoice = zod__WEBPACK_IMPORTED_MODULE_1__.object({\n    id: zod__WEBPACK_IMPORTED_MODULE_1__.string(),\n    company_id: zod__WEBPACK_IMPORTED_MODULE_1__.string(),\n    customer_id: zod__WEBPACK_IMPORTED_MODULE_1__.string(),\n    doc_date: _shared_primitives__WEBPACK_IMPORTED_MODULE_0__.ISODate,\n    currency: _shared_primitives__WEBPACK_IMPORTED_MODULE_0__.Currency,\n    lines: zod__WEBPACK_IMPORTED_MODULE_1__.array(SalesInvoiceLine).min(1),\n    totals: zod__WEBPACK_IMPORTED_MODULE_1__.object({\n        total: _shared_primitives__WEBPACK_IMPORTED_MODULE_0__.Money,\n        tax_total: _shared_primitives__WEBPACK_IMPORTED_MODULE_0__.Money,\n        grand_total: _shared_primitives__WEBPACK_IMPORTED_MODULE_0__.Money\n    })\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vcGFja2FnZXMvY29udHJhY3RzL2h0dHAvc2FsZXMvc2FsZXMtaW52b2ljZS5zY2hlbWEudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUF3QjtBQUN3QztBQUV6RCxNQUFNSSxtQkFBbUJKLHVDQUFRLENBQUM7SUFDdkNNLGFBQWFOLHVDQUFRLEdBQUdRLEdBQUcsQ0FBQztJQUM1QkMsS0FBS1QsdUNBQVEsR0FBR1csUUFBUTtJQUN4QkMsWUFBWVQscURBQUtBO0lBQ2pCVSxVQUFVYix1Q0FBUSxHQUFHYyxRQUFRO0FBQy9CLEdBQUc7QUFFSSxNQUFNQyxlQUFlZix1Q0FBUSxDQUFDO0lBQ25DZ0IsSUFBSWhCLHVDQUFRO0lBQ1ppQixZQUFZakIsdUNBQVE7SUFDcEJrQixhQUFhbEIsdUNBQVE7SUFDckJtQixVQUFVbEIsdURBQU9BO0lBQ2pCbUIsVUFBVWxCLHdEQUFRQTtJQUNsQm1CLE9BQU9yQixzQ0FBTyxDQUFDSSxrQkFBa0JJLEdBQUcsQ0FBQztJQUNyQ2UsUUFBUXZCLHVDQUFRLENBQUM7UUFDZndCLE9BQU9yQixxREFBS0E7UUFDWnNCLFdBQVd0QixxREFBS0E7UUFDaEJ1QixhQUFhdkIscURBQUtBO0lBQ3BCO0FBQ0YsR0FBRyIsInNvdXJjZXMiOlsid2VicGFjazovL2JmZi8uLi8uLi9wYWNrYWdlcy9jb250cmFjdHMvaHR0cC9zYWxlcy9zYWxlcy1pbnZvaWNlLnNjaGVtYS50cz9hNGY3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHogfSBmcm9tIFwiem9kXCI7XHJcbmltcG9ydCB7IElTT0RhdGUsIEN1cnJlbmN5LCBNb25leSB9IGZyb20gXCIuLi9zaGFyZWQvcHJpbWl0aXZlc1wiO1xyXG5cclxuZXhwb3J0IGNvbnN0IFNhbGVzSW52b2ljZUxpbmUgPSB6Lm9iamVjdCh7XHJcbiAgZGVzY3JpcHRpb246IHouc3RyaW5nKCkubWluKDEpLFxyXG4gIHF0eTogei5udW1iZXIoKS5wb3NpdGl2ZSgpLFxyXG4gIHVuaXRfcHJpY2U6IE1vbmV5LFxyXG4gIHRheF9jb2RlOiB6LnN0cmluZygpLm9wdGlvbmFsKClcclxufSk7XHJcblxyXG5leHBvcnQgY29uc3QgU2FsZXNJbnZvaWNlID0gei5vYmplY3Qoe1xyXG4gIGlkOiB6LnN0cmluZygpLCAgICAgICAgICAgIC8vIFVMSUQgcHJlZmVycmVkOyBrZWVwIHN0cmluZyBmb3IgTVZQXHJcbiAgY29tcGFueV9pZDogei5zdHJpbmcoKSxcclxuICBjdXN0b21lcl9pZDogei5zdHJpbmcoKSxcclxuICBkb2NfZGF0ZTogSVNPRGF0ZSxcclxuICBjdXJyZW5jeTogQ3VycmVuY3ksXHJcbiAgbGluZXM6IHouYXJyYXkoU2FsZXNJbnZvaWNlTGluZSkubWluKDEpLFxyXG4gIHRvdGFsczogei5vYmplY3Qoe1xyXG4gICAgdG90YWw6IE1vbmV5LFxyXG4gICAgdGF4X3RvdGFsOiBNb25leSxcclxuICAgIGdyYW5kX3RvdGFsOiBNb25leVxyXG4gIH0pXHJcbn0pO1xyXG5leHBvcnQgdHlwZSBTYWxlc0ludm9pY2UgPSB6LmluZmVyPHR5cGVvZiBTYWxlc0ludm9pY2U+O1xyXG4iXSwibmFtZXMiOlsieiIsIklTT0RhdGUiLCJDdXJyZW5jeSIsIk1vbmV5IiwiU2FsZXNJbnZvaWNlTGluZSIsIm9iamVjdCIsImRlc2NyaXB0aW9uIiwic3RyaW5nIiwibWluIiwicXR5IiwibnVtYmVyIiwicG9zaXRpdmUiLCJ1bml0X3ByaWNlIiwidGF4X2NvZGUiLCJvcHRpb25hbCIsIlNhbGVzSW52b2ljZSIsImlkIiwiY29tcGFueV9pZCIsImN1c3RvbWVyX2lkIiwiZG9jX2RhdGUiLCJjdXJyZW5jeSIsImxpbmVzIiwiYXJyYXkiLCJ0b3RhbHMiLCJ0b3RhbCIsInRheF90b3RhbCIsImdyYW5kX3RvdGFsIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../../packages/contracts/http/sales/sales-invoice.schema.ts\n");

/***/ }),

/***/ "(rsc)/../../packages/contracts/http/shared/primitives.ts":
/*!**********************************************************!*\
  !*** ../../packages/contracts/http/shared/primitives.ts ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Currency: () => (/* binding */ Currency),\n/* harmony export */   Decimal: () => (/* binding */ Decimal),\n/* harmony export */   ISODate: () => (/* binding */ ISODate),\n/* harmony export */   Money: () => (/* binding */ Money),\n/* harmony export */   ULID: () => (/* binding */ ULID)\n/* harmony export */ });\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! zod */ \"(rsc)/../../node_modules/.pnpm/zod@3.25.76/node_modules/zod/v3/types.js\");\n\nconst ULID = zod__WEBPACK_IMPORTED_MODULE_0__.string().regex(/^[0-9A-HJKMNP-TV-Z]{26}$/, \"ULID\");\nconst ISODate = zod__WEBPACK_IMPORTED_MODULE_0__.string().datetime({\n    offset: true\n});\nconst Currency = zod__WEBPACK_IMPORTED_MODULE_0__.string().length(3).transform((s)=>s.toUpperCase());\nconst Decimal = zod__WEBPACK_IMPORTED_MODULE_0__.string().regex(/^-?\\d+(\\.\\d+)?$/);\nconst Money = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    amount: Decimal,\n    currency: Currency\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vcGFja2FnZXMvY29udHJhY3RzL2h0dHAvc2hhcmVkL3ByaW1pdGl2ZXMudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQXdCO0FBQ2pCLE1BQU1DLE9BQU9ELHVDQUFRLEdBQUdHLEtBQUssQ0FBQyw0QkFBMkIsUUFBUTtBQUNqRSxNQUFNQyxVQUFVSix1Q0FBUSxHQUFHSyxRQUFRLENBQUM7SUFBRUMsUUFBUTtBQUFLLEdBQUc7QUFDdEQsTUFBTUMsV0FBV1AsdUNBQVEsR0FBR1EsTUFBTSxDQUFDLEdBQUdDLFNBQVMsQ0FBQ0MsQ0FBQUEsSUFBS0EsRUFBRUMsV0FBVyxJQUFJO0FBQ3RFLE1BQU1DLFVBQVVaLHVDQUFRLEdBQUdHLEtBQUssQ0FBQyxtQkFBbUI7QUFDcEQsTUFBTVUsUUFBUWIsdUNBQVEsQ0FBQztJQUFFZSxRQUFRSDtJQUFTSSxVQUFVVDtBQUFTLEdBQUciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9iZmYvLi4vLi4vcGFja2FnZXMvY29udHJhY3RzL2h0dHAvc2hhcmVkL3ByaW1pdGl2ZXMudHM/MTExNCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB6IH0gZnJvbSBcInpvZFwiO1xyXG5leHBvcnQgY29uc3QgVUxJRCA9IHouc3RyaW5nKCkucmVnZXgoL15bMC05QS1ISktNTlAtVFYtWl17MjZ9JC8sXCJVTElEXCIpO1xyXG5leHBvcnQgY29uc3QgSVNPRGF0ZSA9IHouc3RyaW5nKCkuZGF0ZXRpbWUoeyBvZmZzZXQ6IHRydWUgfSk7XHJcbmV4cG9ydCBjb25zdCBDdXJyZW5jeSA9IHouc3RyaW5nKCkubGVuZ3RoKDMpLnRyYW5zZm9ybShzID0+IHMudG9VcHBlckNhc2UoKSk7XHJcbmV4cG9ydCBjb25zdCBEZWNpbWFsID0gei5zdHJpbmcoKS5yZWdleCgvXi0/XFxkKyhcXC5cXGQrKT8kLyk7XHJcbmV4cG9ydCBjb25zdCBNb25leSA9IHoub2JqZWN0KHsgYW1vdW50OiBEZWNpbWFsLCBjdXJyZW5jeTogQ3VycmVuY3kgfSk7XHJcbiJdLCJuYW1lcyI6WyJ6IiwiVUxJRCIsInN0cmluZyIsInJlZ2V4IiwiSVNPRGF0ZSIsImRhdGV0aW1lIiwib2Zmc2V0IiwiQ3VycmVuY3kiLCJsZW5ndGgiLCJ0cmFuc2Zvcm0iLCJzIiwidG9VcHBlckNhc2UiLCJEZWNpbWFsIiwiTW9uZXkiLCJvYmplY3QiLCJhbW91bnQiLCJjdXJyZW5jeSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../../packages/contracts/http/shared/primitives.ts\n");

/***/ }),

/***/ "(rsc)/../../packages/services/src/ledger.ts":
/*!*********************************************!*\
  !*** ../../packages/services/src/ledger.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   genId: () => (/* binding */ genId),\n/* harmony export */   getJournal: () => (/* binding */ getJournal),\n/* harmony export */   insertJournal: () => (/* binding */ insertJournal),\n/* harmony export */   trialBalance: () => (/* binding */ trialBalance)\n/* harmony export */ });\n// Minimal in-memory ledger + trial balance for demo\nconst journals = new Map(); // key = idempotency key OR journal_id\nconst byId = new Map(); // quick lookup by journal_id\nfunction genId(prefix = \"JRN\") {\n    return `${prefix}-${Math.random().toString(36).slice(2, 10)}`;\n}\nasync function insertJournal(j, idempotencyKey) {\n    const existing = journals.get(idempotencyKey);\n    if (existing) return existing;\n    const id = j.id ?? genId();\n    const journal = {\n        id,\n        ...j\n    };\n    journals.set(idempotencyKey, journal);\n    byId.set(id, journal);\n    return journal;\n}\nasync function getJournal(journalId) {\n    return byId.get(journalId) ?? null;\n}\nasync function trialBalance(company_id, currency) {\n    // Aggregate all lines for the company/currency\n    const acc = new Map();\n    for (const j of byId.values()){\n        if (j.company_id !== company_id || j.currency !== currency) continue;\n        for (const l of j.lines){\n            const key = `${l.account_code}:${l.currency}`;\n            const slot = acc.get(key) ?? {\n                d: 0,\n                c: 0\n            };\n            const amt = Number(l.amount.amount); // demo only; real impl should use decimal lib\n            if (l.dc === \"D\") slot.d += amt;\n            else slot.c += amt;\n            acc.set(key, slot);\n        }\n    }\n    const rows = [];\n    for (const [key, v] of acc.entries()){\n        const [account_code, curr] = key.split(\":\");\n        rows.push({\n            account_code,\n            debit: v.d.toFixed(2),\n            credit: v.c.toFixed(2),\n            currency: curr\n        });\n    }\n    // sort for stable UI\n    rows.sort((a, b)=>a.account_code.localeCompare(b.account_code));\n    return rows;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vcGFja2FnZXMvc2VydmljZXMvc3JjL2xlZGdlci50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUEsb0RBQW9EO0FBc0JwRCxNQUFNQSxXQUFXLElBQUlDLE9BQWlDLHNDQUFzQztBQUM1RixNQUFNQyxPQUFPLElBQUlELE9BQXFDLDZCQUE2QjtBQUU1RSxTQUFTRSxNQUFNQyxTQUFTLEtBQUs7SUFDbEMsT0FBTyxDQUFDLEVBQUVBLE9BQU8sQ0FBQyxFQUFFQyxLQUFLQyxNQUFNLEdBQUdDLFFBQVEsQ0FBQyxJQUFJQyxLQUFLLENBQUMsR0FBRSxJQUFJLENBQUM7QUFDOUQ7QUFFTyxlQUFlQyxjQUFjQyxDQUF3QyxFQUFFQyxjQUFzQjtJQUNsRyxNQUFNQyxXQUFXWixTQUFTYSxHQUFHLENBQUNGO0lBQzlCLElBQUlDLFVBQVUsT0FBT0E7SUFDckIsTUFBTUUsS0FBS0osRUFBRUksRUFBRSxJQUFJWDtJQUNuQixNQUFNWSxVQUFtQjtRQUFFRDtRQUFJLEdBQUdKLENBQUM7SUFBQztJQUNwQ1YsU0FBU2dCLEdBQUcsQ0FBQ0wsZ0JBQWdCSTtJQUM3QmIsS0FBS2MsR0FBRyxDQUFDRixJQUFJQztJQUNiLE9BQU9BO0FBQ1Q7QUFFTyxlQUFlRSxXQUFXQyxTQUFpQjtJQUNoRCxPQUFPaEIsS0FBS1csR0FBRyxDQUFDSyxjQUFjO0FBQ2hDO0FBU08sZUFBZUMsYUFBYUMsVUFBa0IsRUFBRUMsUUFBZ0I7SUFDckUsK0NBQStDO0lBQy9DLE1BQU1DLE1BQU0sSUFBSXJCO0lBQ2hCLEtBQUssTUFBTVMsS0FBS1IsS0FBS3FCLE1BQU0sR0FBSTtRQUM3QixJQUFJYixFQUFFVSxVQUFVLEtBQUtBLGNBQWNWLEVBQUVXLFFBQVEsS0FBS0EsVUFBVTtRQUM1RCxLQUFLLE1BQU1HLEtBQUtkLEVBQUVlLEtBQUssQ0FBRTtZQUN2QixNQUFNQyxNQUFNLENBQUMsRUFBRUYsRUFBRUcsWUFBWSxDQUFDLENBQUMsRUFBRUgsRUFBRUgsUUFBUSxDQUFDLENBQUM7WUFDN0MsTUFBTU8sT0FBT04sSUFBSVQsR0FBRyxDQUFDYSxRQUFRO2dCQUFFRyxHQUFHO2dCQUFHQyxHQUFHO1lBQUU7WUFDMUMsTUFBTUMsTUFBTUMsT0FBT1IsRUFBRVMsTUFBTSxDQUFDQSxNQUFNLEdBQUcsOENBQThDO1lBQ25GLElBQUlULEVBQUVVLEVBQUUsS0FBSyxLQUFLTixLQUFLQyxDQUFDLElBQUlFO2lCQUFVSCxLQUFLRSxDQUFDLElBQUlDO1lBQ2hEVCxJQUFJTixHQUFHLENBQUNVLEtBQUtFO1FBQ2Y7SUFDRjtJQUNBLE1BQU1PLE9BQTBCLEVBQUU7SUFDbEMsS0FBSyxNQUFNLENBQUNULEtBQUtVLEVBQUUsSUFBSWQsSUFBSWUsT0FBTyxHQUFJO1FBQ3BDLE1BQU0sQ0FBQ1YsY0FBY1csS0FBSyxHQUFHWixJQUFJYSxLQUFLLENBQUM7UUFDdkNKLEtBQUtLLElBQUksQ0FBQztZQUNSYjtZQUNBYyxPQUFPTCxFQUFFUCxDQUFDLENBQUNhLE9BQU8sQ0FBQztZQUNuQkMsUUFBUVAsRUFBRU4sQ0FBQyxDQUFDWSxPQUFPLENBQUM7WUFDcEJyQixVQUFVaUI7UUFDWjtJQUNGO0lBQ0EscUJBQXFCO0lBQ3JCSCxLQUFLUyxJQUFJLENBQUMsQ0FBQ0MsR0FBRUMsSUFBTUQsRUFBRWxCLFlBQVksQ0FBQ29CLGFBQWEsQ0FBQ0QsRUFBRW5CLFlBQVk7SUFDOUQsT0FBT1E7QUFDVCIsInNvdXJjZXMiOlsid2VicGFjazovL2JmZi8uLi8uLi9wYWNrYWdlcy9zZXJ2aWNlcy9zcmMvbGVkZ2VyLnRzP2M0MDQiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gTWluaW1hbCBpbi1tZW1vcnkgbGVkZ2VyICsgdHJpYWwgYmFsYW5jZSBmb3IgZGVtb1xyXG50eXBlIE1vbmV5ID0geyBhbW91bnQ6IHN0cmluZzsgY3VycmVuY3k6IHN0cmluZyB9O1xyXG5cclxuZXhwb3J0IHR5cGUgSm91cm5hbExpbmUgPSB7XHJcbiAgaWQ6IHN0cmluZztcclxuICBhY2NvdW50X2NvZGU6IHN0cmluZztcclxuICBkYzogXCJEXCIgfCBcIkNcIjtcclxuICBhbW91bnQ6IE1vbmV5OyAvLyBzdHJpbmcgZGVjaW1hbFxyXG4gIGN1cnJlbmN5OiBzdHJpbmc7XHJcbiAgcGFydHlfdHlwZT86IFwiQ3VzdG9tZXJcIiB8IFwiU3VwcGxpZXJcIjtcclxuICBwYXJ0eV9pZD86IHN0cmluZztcclxufTtcclxuXHJcbmV4cG9ydCB0eXBlIEpvdXJuYWwgPSB7XHJcbiAgaWQ6IHN0cmluZztcclxuICBjb21wYW55X2lkOiBzdHJpbmc7XHJcbiAgcG9zdGluZ19kYXRlOiBzdHJpbmc7IC8vIElTT1xyXG4gIGN1cnJlbmN5OiBzdHJpbmc7XHJcbiAgc291cmNlOiB7IGRvY3R5cGU6IHN0cmluZzsgaWQ6IHN0cmluZyB9O1xyXG4gIGxpbmVzOiBKb3VybmFsTGluZVtdO1xyXG59O1xyXG5cclxuY29uc3Qgam91cm5hbHMgPSBuZXcgTWFwPHN0cmluZywgSm91cm5hbD4oKTsgICAgICAgICAgLy8ga2V5ID0gaWRlbXBvdGVuY3kga2V5IE9SIGpvdXJuYWxfaWRcclxuY29uc3QgYnlJZCA9IG5ldyBNYXA8c3RyaW5nLCBKb3VybmFsPigpOyAgICAgICAgICAgICAgLy8gcXVpY2sgbG9va3VwIGJ5IGpvdXJuYWxfaWRcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZW5JZChwcmVmaXggPSBcIkpSTlwiKTogc3RyaW5nIHtcclxuICByZXR1cm4gYCR7cHJlZml4fS0ke01hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnNsaWNlKDIsMTApfWA7XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBpbnNlcnRKb3VybmFsKGo6IE9taXQ8Sm91cm5hbCwgXCJpZFwiPiAmIHsgaWQ/OiBzdHJpbmcgfSwgaWRlbXBvdGVuY3lLZXk6IHN0cmluZyk6IFByb21pc2U8Sm91cm5hbD4ge1xyXG4gIGNvbnN0IGV4aXN0aW5nID0gam91cm5hbHMuZ2V0KGlkZW1wb3RlbmN5S2V5KTtcclxuICBpZiAoZXhpc3RpbmcpIHJldHVybiBleGlzdGluZztcclxuICBjb25zdCBpZCA9IGouaWQgPz8gZ2VuSWQoKTtcclxuICBjb25zdCBqb3VybmFsOiBKb3VybmFsID0geyBpZCwgLi4uaiB9O1xyXG4gIGpvdXJuYWxzLnNldChpZGVtcG90ZW5jeUtleSwgam91cm5hbCk7XHJcbiAgYnlJZC5zZXQoaWQsIGpvdXJuYWwpO1xyXG4gIHJldHVybiBqb3VybmFsO1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0Sm91cm5hbChqb3VybmFsSWQ6IHN0cmluZyk6IFByb21pc2U8Sm91cm5hbCB8IG51bGw+IHtcclxuICByZXR1cm4gYnlJZC5nZXQoam91cm5hbElkKSA/PyBudWxsO1xyXG59XHJcblxyXG5leHBvcnQgdHlwZSBUcmlhbEJhbGFuY2VSb3cgPSB7XHJcbiAgYWNjb3VudF9jb2RlOiBzdHJpbmc7XHJcbiAgZGViaXQ6IHN0cmluZzsgICAvLyBkZWNpbWFsIHN0cmluZ1xyXG4gIGNyZWRpdDogc3RyaW5nOyAgLy8gZGVjaW1hbCBzdHJpbmdcclxuICBjdXJyZW5jeTogc3RyaW5nO1xyXG59O1xyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHRyaWFsQmFsYW5jZShjb21wYW55X2lkOiBzdHJpbmcsIGN1cnJlbmN5OiBzdHJpbmcpOiBQcm9taXNlPFRyaWFsQmFsYW5jZVJvd1tdPiB7XHJcbiAgLy8gQWdncmVnYXRlIGFsbCBsaW5lcyBmb3IgdGhlIGNvbXBhbnkvY3VycmVuY3lcclxuICBjb25zdCBhY2MgPSBuZXcgTWFwPHN0cmluZywgeyBkOiBudW1iZXI7IGM6IG51bWJlciB9PigpO1xyXG4gIGZvciAoY29uc3QgaiBvZiBieUlkLnZhbHVlcygpKSB7XHJcbiAgICBpZiAoai5jb21wYW55X2lkICE9PSBjb21wYW55X2lkIHx8IGouY3VycmVuY3kgIT09IGN1cnJlbmN5KSBjb250aW51ZTtcclxuICAgIGZvciAoY29uc3QgbCBvZiBqLmxpbmVzKSB7XHJcbiAgICAgIGNvbnN0IGtleSA9IGAke2wuYWNjb3VudF9jb2RlfToke2wuY3VycmVuY3l9YDtcclxuICAgICAgY29uc3Qgc2xvdCA9IGFjYy5nZXQoa2V5KSA/PyB7IGQ6IDAsIGM6IDAgfTtcclxuICAgICAgY29uc3QgYW10ID0gTnVtYmVyKGwuYW1vdW50LmFtb3VudCk7IC8vIGRlbW8gb25seTsgcmVhbCBpbXBsIHNob3VsZCB1c2UgZGVjaW1hbCBsaWJcclxuICAgICAgaWYgKGwuZGMgPT09IFwiRFwiKSBzbG90LmQgKz0gYW10OyBlbHNlIHNsb3QuYyArPSBhbXQ7XHJcbiAgICAgIGFjYy5zZXQoa2V5LCBzbG90KTtcclxuICAgIH1cclxuICB9XHJcbiAgY29uc3Qgcm93czogVHJpYWxCYWxhbmNlUm93W10gPSBbXTtcclxuICBmb3IgKGNvbnN0IFtrZXksIHZdIG9mIGFjYy5lbnRyaWVzKCkpIHtcclxuICAgIGNvbnN0IFthY2NvdW50X2NvZGUsIGN1cnJdID0ga2V5LnNwbGl0KFwiOlwiKTtcclxuICAgIHJvd3MucHVzaCh7XHJcbiAgICAgIGFjY291bnRfY29kZSxcclxuICAgICAgZGViaXQ6IHYuZC50b0ZpeGVkKDIpLFxyXG4gICAgICBjcmVkaXQ6IHYuYy50b0ZpeGVkKDIpLFxyXG4gICAgICBjdXJyZW5jeTogY3VycixcclxuICAgIH0pO1xyXG4gIH1cclxuICAvLyBzb3J0IGZvciBzdGFibGUgVUlcclxuICByb3dzLnNvcnQoKGEsYikgPT4gYS5hY2NvdW50X2NvZGUubG9jYWxlQ29tcGFyZShiLmFjY291bnRfY29kZSkpO1xyXG4gIHJldHVybiByb3dzO1xyXG59XHJcbiJdLCJuYW1lcyI6WyJqb3VybmFscyIsIk1hcCIsImJ5SWQiLCJnZW5JZCIsInByZWZpeCIsIk1hdGgiLCJyYW5kb20iLCJ0b1N0cmluZyIsInNsaWNlIiwiaW5zZXJ0Sm91cm5hbCIsImoiLCJpZGVtcG90ZW5jeUtleSIsImV4aXN0aW5nIiwiZ2V0IiwiaWQiLCJqb3VybmFsIiwic2V0IiwiZ2V0Sm91cm5hbCIsImpvdXJuYWxJZCIsInRyaWFsQmFsYW5jZSIsImNvbXBhbnlfaWQiLCJjdXJyZW5jeSIsImFjYyIsInZhbHVlcyIsImwiLCJsaW5lcyIsImtleSIsImFjY291bnRfY29kZSIsInNsb3QiLCJkIiwiYyIsImFtdCIsIk51bWJlciIsImFtb3VudCIsImRjIiwicm93cyIsInYiLCJlbnRyaWVzIiwiY3VyciIsInNwbGl0IiwicHVzaCIsImRlYml0IiwidG9GaXhlZCIsImNyZWRpdCIsInNvcnQiLCJhIiwiYiIsImxvY2FsZUNvbXBhcmUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../../packages/services/src/ledger.ts\n");

/***/ }),

/***/ "(rsc)/../../packages/services/src/posting.ts":
/*!**********************************************!*\
  !*** ../../packages/services/src/posting.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   postSalesInvoice: () => (/* binding */ postSalesInvoice)\n/* harmony export */ });\n/* harmony import */ var _ledger__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ledger */ \"(rsc)/../../packages/services/src/ledger.ts\");\n\nasync function postSalesInvoice(si) {\n    const key = `SalesInvoice:${si.id}:v1`;\n    // Build deterministic journal lines\n    const lines = [\n        {\n            id: (0,_ledger__WEBPACK_IMPORTED_MODULE_0__.genId)(\"JRL\"),\n            account_code: \"Trade Receivables\",\n            dc: \"D\",\n            amount: si.totals.grand_total,\n            currency: si.currency,\n            party_type: \"Customer\",\n            party_id: si.customer_id\n        },\n        {\n            id: (0,_ledger__WEBPACK_IMPORTED_MODULE_0__.genId)(\"JRL\"),\n            account_code: \"Sales\",\n            dc: \"C\",\n            amount: si.totals.total,\n            currency: si.currency\n        },\n        {\n            id: (0,_ledger__WEBPACK_IMPORTED_MODULE_0__.genId)(\"JRL\"),\n            account_code: \"Output Tax\",\n            dc: \"C\",\n            amount: si.totals.tax_total,\n            currency: si.currency\n        }\n    ];\n    const journal = await (0,_ledger__WEBPACK_IMPORTED_MODULE_0__.insertJournal)({\n        company_id: si.company_id,\n        posting_date: si.doc_date,\n        currency: si.currency,\n        source: {\n            doctype: \"SalesInvoice\",\n            id: si.id\n        },\n        lines\n    }, key);\n    return {\n        id: journal.id\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vcGFja2FnZXMvc2VydmljZXMvc3JjL3Bvc3RpbmcudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFDa0U7QUFFM0QsZUFBZUUsaUJBQWlCQyxFQUFnQjtJQUNyRCxNQUFNQyxNQUFNLENBQUMsYUFBYSxFQUFFRCxHQUFHRSxFQUFFLENBQUMsR0FBRyxDQUFDO0lBRXRDLG9DQUFvQztJQUNwQyxNQUFNQyxRQUF1QjtRQUMzQjtZQUNFRCxJQUFJSiw4Q0FBS0EsQ0FBQztZQUNWTSxjQUFjO1lBQ2RDLElBQUk7WUFDSkMsUUFBUU4sR0FBR08sTUFBTSxDQUFDQyxXQUFXO1lBQzdCQyxVQUFVVCxHQUFHUyxRQUFRO1lBQ3JCQyxZQUFZO1lBQ1pDLFVBQVVYLEdBQUdZLFdBQVc7UUFDMUI7UUFDQTtZQUNFVixJQUFJSiw4Q0FBS0EsQ0FBQztZQUNWTSxjQUFjO1lBQ2RDLElBQUk7WUFDSkMsUUFBUU4sR0FBR08sTUFBTSxDQUFDTSxLQUFLO1lBQ3ZCSixVQUFVVCxHQUFHUyxRQUFRO1FBQ3ZCO1FBQ0E7WUFDRVAsSUFBSUosOENBQUtBLENBQUM7WUFDVk0sY0FBYztZQUNkQyxJQUFJO1lBQ0pDLFFBQVFOLEdBQUdPLE1BQU0sQ0FBQ08sU0FBUztZQUMzQkwsVUFBVVQsR0FBR1MsUUFBUTtRQUN2QjtLQUNEO0lBRUQsTUFBTU0sVUFBVSxNQUFNbEIsc0RBQWFBLENBQ2pDO1FBQ0VtQixZQUFZaEIsR0FBR2dCLFVBQVU7UUFDekJDLGNBQWNqQixHQUFHa0IsUUFBUTtRQUN6QlQsVUFBVVQsR0FBR1MsUUFBUTtRQUNyQlUsUUFBUTtZQUFFQyxTQUFTO1lBQWdCbEIsSUFBSUYsR0FBR0UsRUFBRTtRQUFDO1FBQzdDQztJQUNGLEdBQ0FGO0lBR0YsT0FBTztRQUFFQyxJQUFJYSxRQUFRYixFQUFFO0lBQUM7QUFDMUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9iZmYvLi4vLi4vcGFja2FnZXMvc2VydmljZXMvc3JjL3Bvc3RpbmcudHM/MDk1ZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IFNhbGVzSW52b2ljZSB9IGZyb20gXCJAYWlib3MvY29udHJhY3RzL2h0dHAvc2FsZXMvc2FsZXMtaW52b2ljZS5zY2hlbWFcIjtcclxuaW1wb3J0IHsgaW5zZXJ0Sm91cm5hbCwgZ2VuSWQsIHR5cGUgSm91cm5hbExpbmUgfSBmcm9tIFwiLi9sZWRnZXJcIjtcclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBwb3N0U2FsZXNJbnZvaWNlKHNpOiBTYWxlc0ludm9pY2UpOiBQcm9taXNlPHsgaWQ6IHN0cmluZyB9PiB7XHJcbiAgY29uc3Qga2V5ID0gYFNhbGVzSW52b2ljZToke3NpLmlkfTp2MWA7XHJcblxyXG4gIC8vIEJ1aWxkIGRldGVybWluaXN0aWMgam91cm5hbCBsaW5lc1xyXG4gIGNvbnN0IGxpbmVzOiBKb3VybmFsTGluZVtdID0gW1xyXG4gICAge1xyXG4gICAgICBpZDogZ2VuSWQoXCJKUkxcIiksXHJcbiAgICAgIGFjY291bnRfY29kZTogXCJUcmFkZSBSZWNlaXZhYmxlc1wiLFxyXG4gICAgICBkYzogXCJEXCIsXHJcbiAgICAgIGFtb3VudDogc2kudG90YWxzLmdyYW5kX3RvdGFsLFxyXG4gICAgICBjdXJyZW5jeTogc2kuY3VycmVuY3ksXHJcbiAgICAgIHBhcnR5X3R5cGU6IFwiQ3VzdG9tZXJcIixcclxuICAgICAgcGFydHlfaWQ6IHNpLmN1c3RvbWVyX2lkXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICBpZDogZ2VuSWQoXCJKUkxcIiksXHJcbiAgICAgIGFjY291bnRfY29kZTogXCJTYWxlc1wiLFxyXG4gICAgICBkYzogXCJDXCIsXHJcbiAgICAgIGFtb3VudDogc2kudG90YWxzLnRvdGFsLFxyXG4gICAgICBjdXJyZW5jeTogc2kuY3VycmVuY3lcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIGlkOiBnZW5JZChcIkpSTFwiKSxcclxuICAgICAgYWNjb3VudF9jb2RlOiBcIk91dHB1dCBUYXhcIixcclxuICAgICAgZGM6IFwiQ1wiLFxyXG4gICAgICBhbW91bnQ6IHNpLnRvdGFscy50YXhfdG90YWwsXHJcbiAgICAgIGN1cnJlbmN5OiBzaS5jdXJyZW5jeVxyXG4gICAgfVxyXG4gIF07XHJcblxyXG4gIGNvbnN0IGpvdXJuYWwgPSBhd2FpdCBpbnNlcnRKb3VybmFsKFxyXG4gICAge1xyXG4gICAgICBjb21wYW55X2lkOiBzaS5jb21wYW55X2lkLFxyXG4gICAgICBwb3N0aW5nX2RhdGU6IHNpLmRvY19kYXRlLFxyXG4gICAgICBjdXJyZW5jeTogc2kuY3VycmVuY3ksXHJcbiAgICAgIHNvdXJjZTogeyBkb2N0eXBlOiBcIlNhbGVzSW52b2ljZVwiLCBpZDogc2kuaWQgfSxcclxuICAgICAgbGluZXNcclxuICAgIH0sXHJcbiAgICBrZXlcclxuICApO1xyXG5cclxuICByZXR1cm4geyBpZDogam91cm5hbC5pZCB9O1xyXG59XHJcbiJdLCJuYW1lcyI6WyJpbnNlcnRKb3VybmFsIiwiZ2VuSWQiLCJwb3N0U2FsZXNJbnZvaWNlIiwic2kiLCJrZXkiLCJpZCIsImxpbmVzIiwiYWNjb3VudF9jb2RlIiwiZGMiLCJhbW91bnQiLCJ0b3RhbHMiLCJncmFuZF90b3RhbCIsImN1cnJlbmN5IiwicGFydHlfdHlwZSIsInBhcnR5X2lkIiwiY3VzdG9tZXJfaWQiLCJ0b3RhbCIsInRheF90b3RhbCIsImpvdXJuYWwiLCJjb21wYW55X2lkIiwicG9zdGluZ19kYXRlIiwiZG9jX2RhdGUiLCJzb3VyY2UiLCJkb2N0eXBlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../../packages/services/src/posting.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next@14.2.10_react-dom@18.3.1_react@18.3.1__react@18.3.1","vendor-chunks/zod@3.25.76"], () => (__webpack_exec__("(rsc)/../../node_modules/.pnpm/next@14.2.10_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fsales-invoices%2Froute&page=%2Fapi%2Fsales-invoices%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fsales-invoices%2Froute.ts&appDir=D%3A%5Caibos-erpBOS%5Capps%5Cbff%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5Caibos-erpBOS%5Capps%5Cbff&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();